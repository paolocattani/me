---
import Layout from "../layouts/Layout.astro";

const jobs = [
  {
    company: "GTN SPA",
    role: "Tech Lead",
    period: "Nov 2023 — Today",
    location: "Udine",
    description: "Craft an ERP solution for large-scale food distribution and build the development team from scratch.",
    tech: "SOA on k8s, NestJS, gRPC, HTTP, RabbitMQ, React, Redux, RTK, RTK Query, AWS",
    color: "from-rose-500/20 to-rose-500/5 border-rose-500/30",
  },
  {
    company: "Tecma Solutions SPA",
    role: "Tech Lead",
    period: "Apr 2020 — Nov 2023",
    location: "Milan",
    description: "Coordinate 3 development teams, 1 QA team, and 1 infrastructure team. Ensure high-quality standards across the company's SAAS platform.",
    tech: "Microservices on k8s, Gitlab CI/CD, Node.js, GraphQL, NestJS, React, Redux, TDD, BDD, DDD",
    color: "from-emerald-500/20 to-emerald-500/5 border-emerald-500/30",
  },
  {
    company: "EBS Consulting",
    role: "Software Engineer",
    period: "Sep 2019 — Apr 2020",
    location: "Padua",
    description: "Enterprise platform for charging stations. Distributed payment system with asynchronous jobs on Quartz and SQL.",
    tech: "Java EE, JBoss, Quarkus",
    color: "from-violet-500/20 to-violet-500/5 border-violet-500/30",
  },
  {
    company: "Sanmarco Informatica",
    role: "Software Developer & Consultant",
    period: "Jun 2015 — Aug 2019",
    location: "Padua",
    description: "Specialized solutions for customers on top of the company's ERP. Integration with semi-autonomous warehouse from receiving to delivery.",
    tech: "SOAP services, picking and packing",
    color: "from-amber-500/20 to-amber-500/5 border-amber-500/30",
  },
];

const projects = [
  {
    name: "Giova ERP",
    description: "Full-stack ERP for large-scale food distribution. JWT multitenancy, event-driven architecture, AI assistant with RAG.",
    highlights: [
      "NestJS API (gRPC, HTTP, RabbitMQ)",
      "React + Redux (RTK, RTK Query, Sagas)",
      "WebSocket notifications (Socket.IO)",
      "Schema-per-tenant or DB-per-tenant",
      "Kubernetes + AWS deployment",
      "AI Assistant (Ollama/Bedrock, RAG)",
      "C# reporting, Playwright E2E",
    ],
    gradient: "from-emerald-500/30 to-emerald-500/10",
  },
];

const skillGroups = [
  { title: "Backend", items: ["Node.js", "NestJS", "TypeScript", "Java", "GraphQL", "gRPC", "RabbitMQ"], color: "rose" },
  { title: "Frontend", items: ["React", "Redux", "RTK Query", "Redux Sagas"], color: "emerald" },
  { title: "Cloud & DevOps", items: ["Kubernetes", "AWS", "GitLab CI/CD", "Ansible", "Jenkins", "Docker"], color: "violet" },
  { title: "Practices", items: ["TDD", "BDD", "DDD", "Microservices", "SOA", "Event-driven"], color: "amber" },
];

const colorMap: Record<string, string> = {
  rose: "bg-rose-500/20 text-rose-400 border-rose-500/30",
  emerald: "bg-emerald-500/20 text-emerald-400 border-emerald-500/30",
  violet: "bg-violet-500/20 text-violet-400 border-violet-500/30",
  amber: "bg-amber-500/20 text-amber-400 border-amber-500/30",
};

const FORMSPREE_ENDPOINT = import.meta.env.PUBLIC_FORMSPREE_ENDPOINT ?? "https://formspree.io/f/YOUR_FORM_ID";
---

<Layout
  title="Paolo Cattani | Software Engineer & Tech Lead"
  description="Experienced Software Engineer and Tech Lead building scalable ERP systems for food distribution. NestJS, React, Kubernetes, AWS."
>
  <section
    id="home"
    class="relative min-h-[90vh] flex flex-col items-center justify-center overflow-hidden"
  >
    <div
      class="absolute inset-0 bg-[radial-gradient(ellipse_80%_80%_at_50%_-20%,rgba(52,211,153,0.12),transparent)]"
    />
    <div
      class="absolute inset-0 bg-[radial-gradient(ellipse_60%_60%_at_80%_50%,rgba(52,211,153,0.06),transparent)]"
    />
    <div
      class="absolute inset-0 bg-[radial-gradient(ellipse_60%_60%_at_20%_80%,rgba(16,185,129,0.06),transparent)]"
    />
    <div class="container mx-auto px-6 relative z-10 text-center">
      <p
        class="text-emerald-400 font-medium mb-4 tracking-wider uppercase text-sm"
      >
        Software Engineer & Tech Lead
      </p>
      <h1
        class="font-bold text-5xl sm:text-7xl md:text-8xl mb-6 tracking-tight"
      >
        <span class="block">Hi, I'm</span>
        <span class="text-emerald-400"> Paolo Cattani </span>
      </h1>
      <p class="text-xl text-slate-400 max-w-2xl mx-auto mb-12">
        Building scalable ERP systems for large-scale food distribution.
        <br />
        <span class="text-slate-300">NestJS · React · Kubernetes · AWS</span>
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
        <a
          href="/cv/CV_Paolo_Cattani.pdf"
          download
          class="group inline-flex items-center gap-2 px-8 py-4 rounded-full font-semibold text-slate-950 bg-emerald-500 hover:bg-emerald-400 transition-all shadow-lg shadow-emerald-500/25 hover:shadow-emerald-500/40 hover:scale-105"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
            <polyline points="7 10 12 15 17 10" />
            <line x1="12" y1="15" x2="12" y2="3" />
          </svg>
          Download CV
        </a>
        <a
          href="#contact"
          class="inline-flex items-center gap-2 px-8 py-4 rounded-full font-semibold border-2 border-slate-600 text-slate-300 hover:border-emerald-400 hover:text-emerald-400 transition-colors"
        >
          Get in touch
        </a>
      </div>
    </div>
  </section>

  <section id="experience" class="container mx-auto px-6 py-24 scroll-mt-20">
    <h2 class="text-4xl sm:text-5xl font-bold mb-4 text-emerald-400">
      Experience
    </h2>
    <p class="text-slate-400 text-lg mb-16 max-w-2xl">
      Over 10 years building software systems—from ERP integrations to
      distributed platforms.
    </p>
    <div class="space-y-8">
      {jobs.map((job) => (
        <article
          class={`rounded-2xl border bg-gradient-to-br p-8 transition-all hover:scale-[1.01] ${job.color}`}
        >
        <div
          class="flex flex-col sm:flex-row sm:items-start sm:justify-between gap-4 mb-4"
        >
          <div>
            <h3 class="text-2xl font-bold text-white">
              {job.role} · {job.company}
            </h3>
            <p class="text-slate-400">{job.location}</p>
          </div>
          <span class="text-sm font-medium text-slate-400 shrink-0"
            >{job.period}</span
          >
        </div>
        <p class="text-slate-300 mb-4">{job.description}</p>
        <p class="text-sm text-slate-500">{job.tech}</p>
      </article>
      ))}
    </div>
  </section>

  <section id="projects" class="container mx-auto px-6 py-24 scroll-mt-20">
    <h2 class="text-4xl sm:text-5xl font-bold mb-4 text-emerald-400">
      Projects
    </h2>
    <p class="text-slate-400 text-lg mb-16 max-w-2xl">
      Building systems that scale—from backend to infrastructure.
    </p>
    <div class="space-y-12">
      {projects.map((project) => (
      <article
        class="relative rounded-2xl border border-slate-800 bg-slate-900/50 p-8 md:p-12 overflow-hidden"
      >
        <div
          class={`absolute -top-24 -right-24 w-96 h-96 rounded-full bg-gradient-to-br blur-3xl opacity-20 ${project.gradient}`}
        />
        <div class="relative">
          <h3 class="text-3xl font-bold mb-4">{project.name}</h3>
          <p class="text-slate-400 text-lg mb-8">{project.description}</p>
          <ul class="grid sm:grid-cols-2 gap-3">
            {project.highlights.map((item) => (
            <li class="flex items-center gap-2 text-slate-300">
              <span class="w-2 h-2 rounded-full bg-emerald-400 shrink-0" />
              {item}
            </li>
            ))}
          </ul>
        </div>
      </article>
      ))}
    </div>
  </section>

  <section id="skills" class="container mx-auto px-6 py-24 scroll-mt-20">
    <h2 class="text-4xl sm:text-5xl font-bold mb-4 text-emerald-400">Skills</h2>
    <p class="text-slate-400 text-lg mb-16 max-w-2xl">
      Technologies and practices I work with daily.
    </p>
    <div class="grid sm:grid-cols-2 gap-8">
      {skillGroups.map((group) => (
      <div class="rounded-2xl border border-slate-800 bg-slate-900/50 p-8">
        <h3 class="text-xl font-bold mb-6 text-white">{group.title}</h3>
        <div class="flex flex-wrap gap-3">
          {group.items.map((item) => (
          <span
            class={`px-4 py-2 rounded-full text-sm font-medium border ${colorMap[group.color]}`}
          >
            {item}
          </span>
          ))}
        </div>
      </div>
      ))}
    </div>
  </section>

  <section
    id="contact"
    class="container mx-auto px-6 py-24 max-w-2xl scroll-mt-20"
  >
    <h2 class="text-4xl sm:text-5xl font-bold mb-4 text-emerald-400">
      Get in touch
    </h2>
    <p class="text-slate-400 text-lg mb-12">
      Have a project in mind? Drop me a message—I'd love to hear from you.
    </p>
    <form
      action={FORMSPREE_ENDPOINT}
      method="POST"
      class="space-y-6 rounded-2xl border border-slate-800 bg-slate-900/50 p-8"
    >
      <div>
        <label for="name" class="block text-sm font-medium text-slate-300 mb-2">
          Name
        </label>
        <input
          type="text"
          id="name"
          name="name"
          required
          class="w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"
          placeholder="Your name"
        />
      </div>
      <div>
        <label
          for="email"
          class="block text-sm font-medium text-slate-300 mb-2"
        >
          Email
        </label>
        <input
          type="email"
          id="email"
          name="email"
          required
          class="w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all"
          placeholder="you@example.com"
        />
      </div>
      <div>
        <label
          for="message"
          class="block text-sm font-medium text-slate-300 mb-2"
        >
          Message
        </label>
        <textarea
          id="message"
          name="message"
          rows="5"
          required
          class="w-full px-4 py-3 rounded-lg bg-slate-800 border border-slate-700 text-white placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-transparent transition-all resize-none"
          placeholder="Your message..."
        />
      </div>
      <button
        type="submit"
        class="w-full py-4 rounded-full font-semibold text-slate-950 bg-emerald-500 hover:bg-emerald-400 transition-all shadow-lg shadow-emerald-500/25 hover:shadow-emerald-500/40"
      >
        Send message
      </button>
    </form>
    <div class="mt-12 flex flex-wrap gap-6 text-slate-400">
      <a
        href="mailto:paolocattani0501@gmail.com"
        class="flex items-center gap-2 hover:text-emerald-400 transition-colors"
      >
        paolocattani0501@gmail.com
      </a>
      <a
        href="https://www.linkedin.com/in/paolo-cattani"
        target="_blank"
        rel="noopener noreferrer"
        class="flex items-center gap-2 hover:text-emerald-400 transition-colors"
      >
        LinkedIn
      </a>
    </div>
  </section>
</Layout>
